<!DOCTYPE html>
<html lang="en-NZ">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta charset="utf-8" />

    <link rel="shortcut icon" href="/logo.svg" />
    <title>Watchexec</title>
    <meta name="description" content="A suite of tools and libraries related to Watchexec, which runs commands when files change." />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Watchexec" />
    <meta name="twitter:description" content="Run commands when files change." />
    <meta name="twitter:image:src" content="/logo.svg" />

    <meta property="og:title" content="Watchexec" />
    <meta property="og:description" content="Run commands when files change." />
    <meta property="og:image" content="/logo.svg" />

    <link rel="stylesheet" href="/style.css" />
</head>

<body>
<section>
    <h1>Watchexec</h1>

    <code class="oneline shell">
        <span class="prompt">$&gt;</span>
        <span class="command">watchexec</span>
        <span class="argument">make</span>
    </code>

    <p class="pitch">
        Run a command when files in the current directory change.
        Kick off build processes, restart development servers, detect activity…
        stop pressing <kbd>Enter ⏎</kbd> over and over again and <em>keep on doing!</em>
    </p>

    <nav class="places">
        <a class="primary" href="/downloads/#cli">Download</a>
        <a href="https://github.com/watchexec/watchexec">Source</a>
        <a href="https://github.com/watchexec/watchexec/issues">Bug Tracker</a>
        <a href="/docs/cli/">Documentation</a>
    </nav>
</section>

<section>
    <h2>Cargo Watch</h2>

    <code class="oneline shell">
        <span class="prompt">$&gt;</span>
        <span class="command">cargo</span>
        <span class="subcommand">watch</span>
    </code>

    <p class="pitch">
        Build your <a href="https://rust-lang.org">Rust</a> project. Two words
        to get going, more opportunities at your fingertips. Fit for Cargo, fit
        for life. Your code is in good hands. <em>Get on oxidising!</em>
    </p>

    <nav class="places">
        <a class="primary" href="/downloads/#cargo-watch">Download</a>
        <a href="https://github.com/watchexec/cargo-watch">Source</a>
        <a href="https://github.com/watchexec/cargo-watch/issues">Bug Tracker</a>
        <a href="/docs/cargo-watch/">Documentation</a>
    </nav>
</section>

<section>
    <h2>The library</h2>

    <code class="rust">
        <ol class="codeblock">
            <li><span class="keyword">use</span> <span class="path">watchexec</span><span class="punct">::{</span></li>
            <li><span class="tab">→</span><span class="path">config</span><span class="punct">::</span><span class="type">ConfigBuilder</span><span class="punct">,</span></li>
            <li><span class="tab">→</span><span class="path">error</span><span class="punct">::</span><span class="type">Result</span><span class="punct">,</span></li>
            <li><span class="tab">→</span><span class="path">pathop</span><span class="punct">::</span><span class="type">PathOp</span><span class="punct">,</span></li>
            <li><span class="tab">→</span><span class="path">run</span><span class="punct">::{</span></li>
            <li><span class="tab">→</span><span class="tab">→</span><span class="type">ExecHandler</span><span class="punct">,</span></li>
            <li><span class="tab">→</span><span class="tab">→</span><span class="type">Handler</span><span class="punct">,</span></li>
            <li><span class="tab">→</span><span class="punct">},</span></li>
            <li><span class="punct">};</span></li>
            <li></li>
            <li><span class="keyword">fn</span>
                <span class="fn">main</span><span class="punct">()</span>
                <span class="sigil">-&gt;</span>
                <span class="type">Result</span><span class="punct">&lt;()&gt; {</span></li>
            <li><span class="tab">→</span><span class="keyword">let</span>
                <span class="binding">config</span>
                <span class="punct">=</span>
                <span class="type">ConfigBuilder</span><span class="punct">::</span><span class="fn">default</span><span class="punct">()</span></li>
            <li><span class="tab">→</span><span class="tab">→</span><span class="punct">.</span><span class="fn">clear_screen</span><span class="punct">(</span><span class="bool">true</span><span class="punct">)</span></li>
            <li><span class="tab">→</span><span class="tab">→</span><span class="punct">.</span><span class="fn">run_initially</span><span class="punct">(</span><span class="bool">true</span><span class="punct">)</span></li>
            <li><span class="tab">→</span><span class="tab">→</span><span class="punct">.</span><span class="fn">paths</span><span class="punct">(</span><span class="macro">vec!</span><span class="punct">[</span>
                <span class="string">"/path/to/dir"</span><span class="punct">.</span><span class="fn">into</span><span class="punct">()</span>
                <span class="punct">])</span></li>
            <li><span class="tab">→</span><span class="tab">→</span><span class="punct">.</span><span class="fn">cmd</span><span class="punct">(</span><span class="macro">vec!</span><span class="punct">[</span>
                <span class="string">"date; seq 1 10"</span><span class="punct">.</span><span class="fn">into</span><span class="punct">()</span>
                <span class="punct">])</span></li>
            <li><span class="tab">→</span><span class="tab">→</span><span class="punct">.</span><span class="fn">build</span><span class="punct">(</span><span class="punct">)<span class="sigil">?</span>;</span></li>
            <li></li>
            <li><span class="tab">→</span><span class="keyword">let</span>
                <span class="binding">handler</span>
                <span class="punct">=</span>
                <span class="type">MyHandler</span
                ><span class="punct">(<span class="type">ExecHandler</span
                  ><span class="punct">::</span><span class="fn">new</span
                  ><span class="punct">(</span><span class="binding"
                    >options</span><span class="punct"
                  >)</span><span class="sigil">?</span
                ><span class="punct">);</span></li>
            <li><span class="tab">→</span><span class="fn">watch</span><span class="punct">(</span><span class="sigil">&amp;</span><span class="binding">handler</span><span class="punct">)</span></li>
            <li><span class="punct">}</span></li>
            <li></li>
            <li><span class="keyword">struct</span>
                <span class="type">MyHandler</span><span class="punct">(</span><span class="type">ExecHandler</span><span class="punct">);</span></li>
            <li></li>
            <li><span class="keyword">impl</span>
                <span class="type">Handler</span>
                <span class="keyword">for</span>
                <span class="type">MyHandler</span>
                <span class="punct">{</span></li>
            <li><span class="tab">→</span><span class=keyword">fn</span>
                <span class="fn">args</span><span class="punct">(</span><span class="sigil">&amp;</span><span class="keyword">self</span><span class="punct">)</span>
                <span class="sigil">-&gt;</span>
                <span class="type">Config</span>
                <span class="punct">{</span></li>
            <li><span class="tab">→</span><span class="tab">→</span
                ><span class="keyword">self</span><span class="punct">.</span
                ><span class="field">0</span><span class="punct">.</span
                ><span class="fn">args</span><span class="punct">()</span></li>
            <li><span class="tab">→</span><span class="punct">}</span></li>
            <li></li>
            <li><span class="punct">}</span></li>
        </ol>
    </code>

<!--
impl Handler for MyHandler {
    fn args(&self) -> Config {
        self.0.args()
    }

    fn on_manual(&self) -> Result<bool> {
        println!("Running manually!");
        self.0.on_manual()
    }

    fn on_update(&self, ops: &[PathOp]) -> Result<bool> {
        println!("Running because of {:?}", ops);
        self.0.on_update(ops)
    }
}
-->

    <p class="pitch">
        Create your own watching tool. From presenting different options,
        to changing the defaults, to responding differently than running
        commands, to answering to other events. <em>Power your craft!</em>
    </p>

    <nav class="places">
        <a class="primary" href="https://docs.rs/watchexec">Documentation</a>
        <a href="https://github.com/watchexec/watchexec">Source</a>
        <a href="https://github.com/watchexec/watchexec/issues">Bug Tracker</a>
    </nav>
</section>

<section>
    <h2>ClearScreen</h2>

    <code class="oneline rust">
        <span class="path">clearscreen</span
            ><span class="punct">::</span
            ><span class="fn">clear</span
            ><span class="punct">().</span
            ><span class="fn">unwrap</span
            ><span class="punct">();</span>
    </code>

    <p class="pitch">
        Clear the terminal. On all platforms, across all terminals. Go beyond
        <code class="inline string">
            <span class="escape">\x1b</span>[H
            <span class="escape">\x1b</span>[2J
            <span class="escape">\x1b</span>[3J
        </code> and start doing the right thing in the right place. Reset even
        the most dire of states. <em>Erase the past!</em>
    </p>

    <nav class="places">
        <a class="primary" href="https://docs.rs/clearscreen">Documentation</a>
        <a href="https://github.com/watchexec/clearscreen">Source</a>
        <a href="https://github.com/watchexec/clearscreen/issues">Bug Tracker</a>
    </nav>
</section>

</body>
</html>
